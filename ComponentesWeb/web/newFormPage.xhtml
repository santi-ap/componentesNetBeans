<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>New Form</title> 
    </h:head>
    <body onload="#{newFormController.createNewForm()}" style="background-color: background; text-align: center; " >

        <h:form >

            <!--////////////////////////////////////////// Button New And My Form /////////////////////////////////////////////////////////////-->

            <div class="ui-g" >
                <div class="ui-sm-12 ui-g-2 ui-md-2 ui-lg-2 ui-g-nopad" style=" height:0vh">
                </div>

                <div class="ui-sm-12 ui-g-8 ui-md-8 ui-lg-8" style=" font-size: 25px; display: flex; align-items: center; justify-content: center; ">
                    <p:tabMenu activeIndex="#{param.i}" >

                        <p:menuitem value="My Form" outcome="myFormsPage" >
                            <f:param name="i" value="0" />
                        </p:menuitem>
                        <p:menuitem value="New Form" outcome="newFormPage" >
                            <f:param name="i" value="1" />
                        </p:menuitem>

                    </p:tabMenu>
                </div>
                <!--////////////////////////////////////////// Button New And My Form END /////////////////////////////////////////////////////////////-->
                <!--////////////////////////////////////////// Name AND SIGN OUT /////////////////////////////////////////////////////////////-->
                <div class="ui-sm-12 ui-g-2 ui-md-2 ui-lg-2" >
                    <p:outputLabel  value="#{VerificationController.users.name}" style=" font-size: 30px; font-weight: bold; color: azure" />
                    <br></br>
                    <p:commandButton value="Sign Out" action="#{VerificationController.logOut()}" style=" font-size: 15px; "/>
                </div>
                <!--////////////////////////////////////////// Name AND SIGN OUT END /////////////////////////////////////////////////////////////-->

            </div>

        </h:form>





        <!--////////////////////////////////////////// FORM THAT HOLDS THE ADD QUESTION BUTTON AND THE NEW QUESTION AREA /////////////////////////////////////////////////////////////-->
        <h:form id="form" style=" margin-top: 20px; "> 



            <div class="ui-g">

                <div class="ui-g-9 ui-md-12 ui-lg-12 ui-xl-12" style="display: flex; align-items: center; justify-content: center;" >
                    <p:inputText id="insertText" value="#{newFormController.newForm.title}" placeholder="Insert Form Title Here" style=" font-size: 30px; width: 50%"/>
                </div>

                <div class="ui-g-3 ui-md-3 ui-lg-2 ui-xl-1" >
                    <!--//////////////////////////////////////////Add Question Button/////////////////////////////////////////////////////////////-->
                    <p:growl id="messages" showDetail="true"/>

                    <p:menuButton value="Add Question" style="top:0%;">
                        <p:menuitem value="Multiple Choice" action="#{newFormController.addMultiple}"  update="form" icon="pi pi-save"/>
                        <p:menuitem value="Single Choice" action="#{newFormController.addSingle}" update="form" icon="pi pi-refresh"/>
                        <p:menuitem value="Text" action="#{newFormController.addText}" update="form" icon="pi pi-refresh"/>
                        <p:menuitem value="Date" action="#{newFormController.addDate}" update="form" icon="pi pi-refresh"/>
                    </p:menuButton>

                    <!--//////////////////////////////////////////Add Question Button End/////////////////////////////////////////////////////////////-->
                </div>
                <div class="ui-g-12 ui-md-9 ui-lg-10 ui-xl-11">
                    <!--////////////////////////////////////////// NEW QUESTION SCROLL_PANEL AREA /////////////////////////////////////////////////////////////-->
                    <p:scrollPanel id="newQuestionScrollPanel" mode="native" style="width:99%;height:75vh;padding:5px 5px 5px 5px;margin:0% 10% 0% 0%;">

                        <p:dataList var="newQuestion"  value="#{newFormController.newForm.questionList}" emptyMessage="Add a new question" type="none" style="width:100%;">
                            <!--////////////////////////////////////////// QUESTION AREA /////////////////////////////////////////////////////////////-->
                            <p:growl id="msgs" showDetail="true" />
                            <p:panel id="newQuestionPanel" header="New Question" closeSpeed="500" widgetVar="panel" style="height:350px; ">

                                <p:inputText style="width:99%;" placeholder="Type question here"  value='#{newQuestion.question}'/>
                                <!--////////////////////////////////////////// POSSIBLE ANSWERS AREA /////////////////////////////////////////////////////////////-->

                                <p:scrollPanel id="newAnswerScrollPanel" mode="native" style="width:99%;height:18vh;padding:5px 5px 5px 5px;margin:1% 10% 1% 0%;">

                                    <!--////////////////////////////////////////// TEXT ANSWER /////////////////////////////////////////////////////////////-->
                                    <p:inputText id="answerText" placeholder="Texto" style ="height:17vh;width:99%" rendered="#{newFormController.checkRendered(newQuestion, 'answerText')}"/>
                                    <!--////////////////////////////////////////// DATE ANSWER /////////////////////////////////////////////////////////////-->
                                    <div style="z-index: 0; " > 
                                        <a href="testerPage.xhtml"></a>

                                        <p:outputLabel for="datePicker" value="Date: " rendered="#{newFormController.checkRendered(newQuestion, 'answerDate')}"/>
                                        <p:datePicker id="datePicker" showIcon="true" style="margin: 1% 10% 0% 0%;"  rendered="#{newFormController.checkRendered(newQuestion, 'answerDate')}"/>

                                    </div>
                                    <!--////////////////////////////////////////// MULTIPLE OR SINGLE CHOICE ANSWER ANSWER /////////////////////////////////////////////////////////////-->
                                    <div >
                                        <p:commandButton value="+" style="font-size: 20px; font-weight: bold" action="#{newFormController.addChoice(newQuestion)}" update="newAnswerScrollPanel" rendered="#{newFormController.checkRendered(newQuestion, 'answerMultiple')}"/>
                                        <p:dataList lazy="true" id="dataChoice" var="newChoice"  value="#{newFormController.choiceListFromQuestion(newQuestion)}" emptyMessage="Add a new choice for your question" type="definition" style="width:100%;" rendered="#{newFormController.checkRendered(newQuestion, 'answerMultiple')}">
                                            <!--does this work? does anything work? do i work?-->
                                            <p:inputText style="width:99%;" placeholder="Type possible answer here" onchange="update = 'newAnswerScrollPanel'" value='#{newChoice.choice}'/>
                                        </p:dataList>

                                    </div>  
                                </p:scrollPanel>

                                <!--                                <p:growl id="message" showDetail="true" />-->

                                <p:commandButton value="Delete" action="#{newFormController.deleteQuestion(newQuestion)}" update="form">
                                    <p:confirm header="Confirmation" message="Are you sure?" icon="pi pi-exclamation-triangle" />
                                </p:commandButton>

                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                    <p:commandButton value="Yes" type="button"  styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                                </p:confirmDialog>  
                                <!--////////////////////////////////////////// POSSIBLE ANSWERS AREA END /////////////////////////////////////////////////////////////-->
                            </p:panel>
                            <!--////////////////////////////////////////// QUESTION AREA END /////////////////////////////////////////////////////////////-->

                        </p:dataList>

                    </p:scrollPanel>
                    <!--////////////////////////////////////////// NEW QUESTION SCROLL_PANEL AREA END /////////////////////////////////////////////////////////////-->
                </div>
            </div>

            <!--////////////////////////////////////////// FORM THAT HOLDS THE ADD QUESTION BUTTON AND THE NEW QUESTION AREA END /////////////////////////////////////////////////////////////-->




            <!--////////////////////////////////////////// SAVE AND CANCEL BUTTON AREA /////////////////////////////////////////////////////////////-->
            <div class="ui-g" >
                <div class="ui-g ui-g-12 ui-md-3 ui-lg-2 ui-xl-1 ui-g-nopad" >

                </div>
                <div class="ui-g ui-g-12 ui-md-9 ui-lg-10 ui-xl-11" >
                    <div class="ui-g-12 ui-md-6 ui-lg-6" style=" display: flex; align-items: center; justify-content: center;">

                        <!--////////////////////////////////////////// CANCEL BUTTON  /////////////////////////////////////////////////////////////-->
                        <p:commandButton value="Cancel" action="#{newFormController.deleteForm()}" style=" font-size: xx-large; ">
                            <p:confirm header="Confirmation" message="Are you sure?" icon="pi pi-exclamation-triangle" />
                        </p:commandButton>

                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                        </p:confirmDialog> 
                        <!--////////////////////////////////////////// CANCEL BUTTON END  /////////////////////////////////////////////////////////////-->
                    </div>
                    <div class="ui-g-12 ui-md-6 ui-lg-6" style=" display: flex; align-items: center; justify-content: center;">
                        <!--////////////////////////////////////////// SAVE BUTTON  /////////////////////////////////////////////////////////////-->
                        <p:commandButton styleClass='testingSomeShit' update="form" action="#{newFormController.saveButton()}" value="Save" style=" font-size: xx-large;" >
                            <p:confirm header="Confirmation" message="Finished editing? You will not be able to edit the form once it's saved." icon="pi pi-exclamation-triangle" />
                        </p:commandButton>

                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                        </p:confirmDialog> 
                        <!--////////////////////////////////////////// SAVE BUTTON END /////////////////////////////////////////////////////////////-->
                    </div>

                </div>
            </div>
        </h:form>
        <!--////////////////////////////////////////// SAVE AND CANCEL BUTTON AREA END /////////////////////////////////////////////////////////////-->


        <!--////////////////////////////////////////// SANTI TESTING BUTTON FONT SIZE /////////////////////////////////////////////////////////////-->
        <style>


            /*            .ui-button .ui-button-text {
                            font-size: 30px;
                        }*/

            /*            .ui-button.regCommandButton { 
            
                            background: #29b6a0;
                            color: #23a38f;
            
                            width: 100%; 
                            height: 25px; 
            
                            font-family: 'pluto_sansthin';
                            font-size:5em !important;  
            
            
                        }
            
                        .testingSomeShit{
                            font-size:20px ;  
                        }*/

            /*            .ui-widget{
                            font-family: comic-sans;
                        }
                        .ui-widget input, .ui-widget select, .ui-widget textarea, .ui-widget button{
                            font-family: comic-sans;
                        }*/



        </style>
        <!--////////////////////////////////////////// SANTI TESTING BUTTON FONT SIZE END /////////////////////////////////////////////////////////////-->
    </body>
</html>
