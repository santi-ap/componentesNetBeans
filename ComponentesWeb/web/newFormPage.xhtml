<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>New Form</title> 
    </h:head>
    <body onload="#{newFormController.createNewForm()}">

        <!--//////////////////////////////////////////Menu/////////////////////////////////////////////////////////////-->

        <!--//////////////////////////////////////////Menu End/////////////////////////////////////////////////////////////-->


        <!--//////////////////////////////////////////Name/////////////////////////////////////////////////////////////-->

        <!--//////////////////////////////////////////Name end/////////////////////////////////////////////////////////////-->


        <!--//////////////////////////////////////////Sign Out/////////////////////////////////////////////////////////////-->

        <!--//////////////////////////////////////////Sign Out End/////////////////////////////////////////////////////////////-->




        <!--////////////////////////////////////////// FORM THAT HOLDS THE ADD QUESTION BUTTON AND THE NEW QUESTION AREA /////////////////////////////////////////////////////////////-->
        <h:form id="form" >
            <div class="ui-g">
                <div class="ui-g-1" style="background-color: red">
                    <!--//////////////////////////////////////////Add Question Button/////////////////////////////////////////////////////////////-->
                    <p:growl id="messages" showDetail="true"/>

                    <p:menuButton value="Add Question" style="margin-top:130%;">
                        <p:menuitem value="Multiple Choice" action="#{newFormController.addMultiple}"  update="form" icon="pi pi-save"/>
                        <p:menuitem value="Single Choice" action="#{newFormController.addSingle}" update="form" icon="pi pi-refresh"/>
                        <p:menuitem value="Text" action="#{newFormController.addText}" update="form" icon="pi pi-refresh"/>
                        <p:menuitem value="Date" action="#{newFormController.addDate}" update="form" icon="pi pi-refresh"/>
                    </p:menuButton>

                    <!--//////////////////////////////////////////Add Question Button End/////////////////////////////////////////////////////////////-->
                </div>
                <div class="ui-g-11" style="background-color: blue">
                    <!--////////////////////////////////////////// NEW QUESTION SCROLL_PANEL AREA /////////////////////////////////////////////////////////////-->
                    <p:scrollPanel id="newQuestionScrollPanel" mode="native" style="width:99%;height:75vh;padding:5px 5px 5px 5px;margin:10% 10% 0% 0%;">

                        <p:dataList var="newQuestion"  value="#{newFormController.newForm.questionList}" emptyMessage="Add a new question" type="none" style="width:100%;">
                            <!--////////////////////////////////////////// QUESTION AREA /////////////////////////////////////////////////////////////-->
                            <p:growl id="msgs" showDetail="true" />
                            <p:panel id="newQuestionPanel" header="#{newQuestion.id}" closeSpeed="500" widgetVar="panel" style="height:300px; ">

                                <p:inputText style="width:99%;" placeholder="Type question here" value='#{newQuestion.question}'/>
                                <!--////////////////////////////////////////// POSSIBLE ANSWERS AREA /////////////////////////////////////////////////////////////-->

                                <p:scrollPanel id="newAnswerScrollPanel" mode="native" style="width:99%;height:18vh;padding:5px 5px 5px 5px;margin:1% 10% 1% 0%;">

                                    <!--////////////////////////////////////////// TEXT ANSWER /////////////////////////////////////////////////////////////-->
                                    <p:inputText id="answerText" placeholder="Texto" style ="height:17vh;width:99%" rendered="#{newFormController.checkRendered(newQuestion, 'answerText')}"/>
                                    <!--////////////////////////////////////////// DATE ANSWER /////////////////////////////////////////////////////////////-->
                                    <div style="z-index: 0; background-color: orchid" > 
                                        <a href="testerPage.xhtml"></a>

                                        <p:outputLabel for="datePicker" value="Date: " rendered="#{newFormController.checkRendered(newQuestion, 'answerDate')}"/>
                                        <p:datePicker id="datePicker" showIcon="true" style="margin: 1% 10% 0% 0%;"  rendered="#{newFormController.checkRendered(newQuestion, 'answerDate')}"/>

                                    </div>
                                    <!--////////////////////////////////////////// MULTIPLE OR SINGLE CHOICE ANSWER ANSWER /////////////////////////////////////////////////////////////-->
                                    <div style="background-color: olive">
                                        <p:commandButton value="+" style="font-size: 200%" action="#{newFormController.addChoice(newQuestion)}" update="newAnswerScrollPanel" rendered="#{newFormController.checkRendered(newQuestion, 'answerMultiple')}"/>
                                        <p:dataList lazy="true" id="dataChoice" var="newChoice"  value="#{newFormController.choiceListFromQuestion(newQuestion)}" emptyMessage="Add a new choice for your question" type="definition" style="width:100%;" rendered="#{newFormController.checkRendered(newQuestion, 'answerMultiple')}">
                                                                                                                    <!--does this work? does anything work? do i work?-->
                                            <p:inputText style="width:99%;" placeholder="Type possible answer here" onchange="update= 'newAnswerScrollPanel'" value='#{newChoice.choice}'/>
                                        </p:dataList>

                                    </div>  
                                </p:scrollPanel>

                                <!--                                <p:growl id="message" showDetail="true" />-->

                                <p:commandButton value="Delete" action="#{newFormController.deleteQuestion(newQuestion)}" update="form">
                                    <p:confirm header="Confirmation" message="Are you sure?" icon="pi pi-exclamation-triangle" />
                                </p:commandButton>

                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                    <p:commandButton value="Yes" type="button"  styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                                </p:confirmDialog>  
                                <!--////////////////////////////////////////// POSSIBLE ANSWERS AREA END /////////////////////////////////////////////////////////////-->
                            </p:panel>
                            <!--////////////////////////////////////////// QUESTION AREA END /////////////////////////////////////////////////////////////-->

                        </p:dataList>

                    </p:scrollPanel>
                    <!--////////////////////////////////////////// NEW QUESTION SCROLL_PANEL AREA END /////////////////////////////////////////////////////////////-->
                </div>
            </div>
        
        <!--////////////////////////////////////////// FORM THAT HOLDS THE ADD QUESTION BUTTON AND THE NEW QUESTION AREA END /////////////////////////////////////////////////////////////-->




        <!--////////////////////////////////////////// SAVE AND CANCEL BUTTON AREA /////////////////////////////////////////////////////////////-->
        
            <div style="background-color: purple">

                <!--////////////////////////////////////////// CANCEL BUTTON  /////////////////////////////////////////////////////////////-->
                <p:commandButton value="Cancel" action="#{newFormController.deleteForm()}" style="width:100px;height:5vh; font-size: xx-large; margin-left: 20%">
                    <p:confirm header="Confirmation" message="Are you sure?" icon="pi pi-exclamation-triangle" />
                </p:commandButton>

                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                </p:confirmDialog> 
                <!--////////////////////////////////////////// CANCEL BUTTON END  /////////////////////////////////////////////////////////////-->

                <!--////////////////////////////////////////// SAVE BUTTON  /////////////////////////////////////////////////////////////-->
                <p:commandButton styleClass='testingSomeShit' update="form" action="#{newFormController.saveButton()}" value="Save" style="width:100px;height:5vh; font-size: xx-large; margin-left: 40%" >
                    <p:confirm header="Confirmation" message="Finished editing? You will not be able to edit the form once it's saved." icon="pi pi-exclamation-triangle" />
                </p:commandButton>

                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                </p:confirmDialog> 
                <!--////////////////////////////////////////// SAVE BUTTON END /////////////////////////////////////////////////////////////-->


            </div>
        </h:form>
        <!--////////////////////////////////////////// SAVE AND CANCEL BUTTON AREA END /////////////////////////////////////////////////////////////-->


        <!--////////////////////////////////////////// SANTI TESTING BUTTON FONT SIZE /////////////////////////////////////////////////////////////-->
        <style>


            /*            .ui-button .ui-button-text {
                            font-size: 30px;
                        }*/

            .ui-button.regCommandButton { 

                background: #29b6a0;
                color: #23a38f;

                width: 100%; 
                height: 25px; 

                font-family: 'pluto_sansthin';
                font-size:5em !important;  


            }

            .testingSomeShit{
                font-size:20px ;  
            }



        </style>
        <!--////////////////////////////////////////// SANTI TESTING BUTTON FONT SIZE END /////////////////////////////////////////////////////////////-->
    </body>
</html>
