<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"

      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>My Forms</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    
        <p:growl id="messages" showDetail="true"/>
        <h:form>
            <!--TESTING TESTING TESTING BOIIIIIIIIIIIII-->
            <p:commandButton action="#{myFormsController.redirect(2)}"/>
            <!--TESTING TESTING TESTING BOIIIIIIIIIIIII-->


            <!--Button To share link-->
            <p:commandButton value="Share" onclick="PF('wdialog').show();"/>

        </h:form>   
 
        <p:dialog  id="dialog" widgetVar="wdialog" header="FormURL" modal="true" appendTo="@(body)" responsive="true" resizable="false"  >
        
            <input type="text" value="#{myFormsController.getViewFormLink(2)}" id="myInput"/>
           
        <button onclick="myFunction()">Copy text</button>
        </p:dialog>  

        <script>
            function myFunction() {
                var copyText = document.getElementById("myInput");
                copyText.select();
                copyText.setSelectionRange(0, 99999);
                document.execCommand("copy");
                alert("Copied the text: " + copyText.value);
            }

        </script>


    

</html>
